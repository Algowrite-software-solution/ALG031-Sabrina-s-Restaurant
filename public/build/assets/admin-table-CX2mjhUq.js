import{r as o,j as a}from"./app-BP7c_KJt.js";import{D as f}from"./default-table-DvPH239D.js";import{C as n}from"./checkbox-CWI-vRgU.js";import{S as x,a as j,c as A,e as m}from"./select-Bv2prEK6.js";import{R as i}from"./Roles-BRIlPpoP.js";import{b as R,c as C}from"./api-DZd4u0x1.js";import N from"./single-admin-dialog-sNirUsDv.js";import"./button-CNcjkpk6.js";import"./dropdown-menu-1F11sORm.js";import"./index-k0_JLgUG.js";import"./index-BJZ7tgIV.js";import"./index-CdGyIrkY.js";import"./index-DYDIRHyn.js";import"./index-jN1CEBmp.js";import"./createLucideIcon-Bo3CwyA5.js";import"./input-1YcAuPo5.js";import"./something-went-wrong-B0r_abH4.js";import"./chevron-down-Doxu1loQ.js";import"./button-CL5P9oih.js";import"./dialog-Df-Zw0R5.js";import"./index-Bx6P-4zn.js";import"./label-DWwggEjN.js";function L({children:d,isRefreshing:p}){const[u,h]=o.useState([]);function r(){R("/admin").then(e=>{h(e)})}o.useEffect(()=>{r()},[p]);function s(e){return(e==null?void 0:e.map(t=>t.name.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ")).filter(t=>t!==i.SUPER_ADMIN&&t!==i.ADMIN))[0]}const g=[{id:"select",header:({table:e})=>a.jsx(n,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onChange:l=>e.toggleAllPageRowsSelected(!!l),"aria-label":"Select all"}),cell:({row:e})=>a.jsx(n,{checked:e.getIsSelected(),onCheckedChange:l=>e.toggleSelected(!!l),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Name",cell:({row:e})=>a.jsx("div",{className:"w-[150px] truncate",children:e.getValue("name")})},{accessorKey:"email",header:"Email",cell:({row:e})=>a.jsx("div",{className:"w-[200px] truncate",children:e.getValue("email")})},{accessorKey:"roles",header:"Role",cell:({row:e})=>a.jsx("div",{className:"max-w-[150px] truncate",children:a.jsxs(x,{defaultValue:s(e.original.roles),onValueChange:l=>{C("/admin",{data:{id:e.original.id,role:l},displayError:!0,displaySuccess:!0,onSuccess:r})},children:[a.jsx(j,{className:"w-full",children:s(e.original.roles)}),a.jsxs(A,{className:"w-full",children:[a.jsx(m,{value:i.ADMIN,children:"Admin"}),a.jsx(m,{value:i.SUPER_ADMIN,children:"Super Admin"})]})]})})},{accessorKey:"actions",header:"Actions",cell:({row:e})=>a.jsx(N,{admin:e.original,successCallback:r})}],S=[{column:"name",placeholder:"Search by name"},{column:"email",placeholder:"Search by email"}];return a.jsx(f,{children:d,columns:g,data:u,searchComponent:S})}export{L as default};
