import{r as o,j as a}from"./app-Cvetc6zO.js";import{D as f}from"./default-table-Cuuk1olQ.js";import{C as n}from"./checkbox-BcPXqI3C.js";import{S as x,a as j,c as A,e as m}from"./select-C5L5QMlZ.js";import{R as i}from"./Roles-BRIlPpoP.js";import{b as R,c as C}from"./api-G8cM2aMk.js";import N from"./single-admin-dialog-Cg62r6g6.js";import"./button-l-kNTi1j.js";import"./dropdown-menu-DsfmW-z3.js";import"./index-C_LS9uaw.js";import"./index-BX_gFClw.js";import"./index-BLxGhCcm.js";import"./index-BK8N0f0X.js";import"./index-BxXQ4JUQ.js";import"./createLucideIcon-_xZm0kd2.js";import"./input-D-cwC8r5.js";import"./something-went-wrong-BpZqBPHw.js";import"./chevron-down-Ci_Mz964.js";import"./button-B7loNSNW.js";import"./dialog-B_Ku4v81.js";import"./index-CaVDhtK6.js";import"./label-Cj48ksnt.js";function L({children:d,isRefreshing:p}){const[u,h]=o.useState([]);function r(){R("/admin").then(e=>{h(e)})}o.useEffect(()=>{r()},[p]);function s(e){return(e==null?void 0:e.map(t=>t.name.split("_").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" ")).filter(t=>t!==i.SUPER_ADMIN&&t!==i.ADMIN))[0]}const g=[{id:"select",header:({table:e})=>a.jsx(n,{checked:e.getIsAllPageRowsSelected()||e.getIsSomePageRowsSelected()&&"indeterminate",onChange:l=>e.toggleAllPageRowsSelected(!!l),"aria-label":"Select all"}),cell:({row:e})=>a.jsx(n,{checked:e.getIsSelected(),onCheckedChange:l=>e.toggleSelected(!!l),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",header:"Name",cell:({row:e})=>a.jsx("div",{className:"w-[150px] truncate",children:e.getValue("name")})},{accessorKey:"email",header:"Email",cell:({row:e})=>a.jsx("div",{className:"w-[200px] truncate",children:e.getValue("email")})},{accessorKey:"roles",header:"Role",cell:({row:e})=>a.jsx("div",{className:"max-w-[150px] truncate",children:a.jsxs(x,{defaultValue:s(e.original.roles),onValueChange:l=>{C("/admin",{data:{id:e.original.id,role:l},displayError:!0,displaySuccess:!0,onSuccess:r})},children:[a.jsx(j,{className:"w-full",children:s(e.original.roles)}),a.jsxs(A,{className:"w-full",children:[a.jsx(m,{value:i.ADMIN,children:"Admin"}),a.jsx(m,{value:i.SUPER_ADMIN,children:"Super Admin"})]})]})})},{accessorKey:"actions",header:"Actions",cell:({row:e})=>a.jsx(N,{admin:e.original,successCallback:r})}],S=[{column:"name",placeholder:"Search by name"},{column:"email",placeholder:"Search by email"}];return a.jsx(f,{children:d,columns:g,data:u,searchComponent:S})}export{L as default};
