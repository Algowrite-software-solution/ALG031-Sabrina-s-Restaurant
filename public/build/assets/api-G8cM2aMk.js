import{a as x}from"./app-Cvetc6zO.js";import{t as l}from"./index-BK8N0f0X.js";const D=x.create({baseURL:"/api/v1",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}),p=async(s,e,R={})=>{var m,g,h,y,w;const{data:d={},params:f={},headers:b={},displayError:u=!0,displaySuccess:j=!1,isMultipart:C=!1,onSuccess:c,onError:i}=R;try{const t={method:s,url:e,params:f,data:d,headers:{...b,...C?{"Content-Type":"multipart/form-data"}:{}}};s==="get"&&(t.params={...f,...d});const n=await D(t),{status:a,message:o,errors:r}=n.data;let q=((m=n.data)==null?void 0:m.data)??null;if(a!=="success")throw u&&l.error(r||o||"Something went wrong"),i==null||i(r),{message:o,errors:r};return j&&(r||o)&&l.success(r||o),c==null||c(q),q}catch(t){const n=((h=(g=t==null?void 0:t.response)==null?void 0:g.data)==null?void 0:h.message)||(t==null?void 0:t.message)||"Request failed",a=((w=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:w.errors)||{};let o="";throw a&&a.length&&typeof a=="object"&&a.forEach(r=>{o+=r+`
`}),u&&l.error(o||n),i==null||i(a),{message:n,errors:a}}},P=(s,e)=>p("get",s,e),S=(s,e)=>p("post",s,e),T=(s,e)=>p("put",s,e),X=(s,e)=>p("delete",s,e);export{S as a,P as b,T as c,X as d};
