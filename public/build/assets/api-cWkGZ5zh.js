import{b as x}from"./app-7aIYh_Ic.js";import{t as f}from"./use-mobile-DrCCC82x.js";import{C as D}from"./config-B9Ts1Lxx.js";const L=x.create({baseURL:`/api/${D.apiVersion}`,headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","Content-Type":"application/json"},withCredentials:!0}),p=async(s,e,b={})=>{var u,g,h,y,w;const{data:l={},params:d={},headers:q={},displayError:m=!0,displaySuccess:R=!1,isMultipart:j=!1,onSuccess:c,onError:i}=b;try{const t={method:s,url:e,params:d,data:l,headers:{...q,...j?{"Content-Type":"multipart/form-data"}:{}}};s==="get"&&(t.params={...d,...l});const n=await L(t),{status:a,message:o,errors:r}=n.data;let C=((u=n.data)==null?void 0:u.data)??null;if(a!=="success")throw m&&f.error(r||o||"Something went wrong"),i==null||i(r),{message:o,errors:r};return R&&(r||o)&&f.success(r||o),c==null||c(C),C}catch(t){const n=((h=(g=t==null?void 0:t.response)==null?void 0:g.data)==null?void 0:h.message)||(t==null?void 0:t.message)||"Request failed",a=((w=(y=t==null?void 0:t.response)==null?void 0:y.data)==null?void 0:w.errors)||{};let o="";throw a&&a.length&&typeof a=="object"&&a.forEach(r=>{o+=r+`
`}),m&&f.error(o||n),i==null||i(a),{message:n,errors:a}}},T=(s,e)=>p("get",s,e),X=(s,e)=>p("post",s,e),A=(s,e)=>p("put",s,e),G=(s,e)=>p("delete",s,e);export{X as a,T as b,G as c,A as d};
