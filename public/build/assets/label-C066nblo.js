import{R as ee,r as i}from"./app-7aIYh_Ic.js";import{K as O,y as V,n as j,L as _,o as te}from"./use-sync-refs-D9i852h_.js";const R=typeof document<"u"?ee.useLayoutEffect:()=>{};function ne(e){const n=i.useRef(null);return R(()=>{n.current=e},[e]),i.useCallback((...t)=>{const r=n.current;return r==null?void 0:r(...t)},[])}const y=e=>{var n;return(n=e==null?void 0:e.ownerDocument)!==null&&n!==void 0?n:document},m=e=>e&&"window"in e&&e.window===e?e:y(e).defaultView||window;function re(e){var n;return typeof window>"u"||window.navigator==null?!1:((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.brands.some(t=>e.test(t.brand)))||e.test(window.navigator.userAgent)}function oe(e){var n;return typeof window<"u"&&window.navigator!=null?e.test(((n=window.navigator.userAgentData)===null||n===void 0?void 0:n.platform)||window.navigator.platform):!1}function U(e){let n=null;return()=>(n==null&&(n=e()),n)}const ie=U(function(){return oe(/^Mac/i)}),ue=U(function(){return re(/Android/i)});function ae(e){return e.mozInputSource===0&&e.isTrusted?!0:ue()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class se{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(n,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=n}}function G(e){let n=i.useRef({isFocused:!1,observer:null});R(()=>{const r=n.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let t=ne(r=>{e==null||e(r)});return i.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){n.current.isFocused=!0;let o=r.target,l=s=>{n.current.isFocused=!1,o.disabled&&t(new se("blur",s)),n.current.observer&&(n.current.observer.disconnect(),n.current.observer=null)};o.addEventListener("focusout",l,{once:!0}),n.current.observer=new MutationObserver(()=>{if(n.current.isFocused&&o.disabled){var s;(s=n.current.observer)===null||s===void 0||s.disconnect();let u=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:u})),o.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:u}))}}),n.current.observer.observe(o,{attributes:!0,attributeFilter:["disabled"]})}},[t])}function le(e){let{isDisabled:n,onFocus:t,onBlur:r,onFocusChange:o}=e;const l=i.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),o&&o(!1),!0},[r,o]),s=G(l),u=i.useCallback(c=>{const d=y(c.target);c.target===c.currentTarget&&d.activeElement===c.target&&(t&&t(c),o&&o(!0),s(c))},[o,t,s]);return{focusProps:{onFocus:!n&&(t||o||r)?u:void 0,onBlur:!n&&(r||o)?l:void 0}}}let T=null,H=new Set,w=new Map,h=!1,k=!1;const ce={Tab:!0,Escape:!0};function D(e,n){for(let t of H)t(e,n)}function de(e){return!(e.metaKey||!ie()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function L(e){h=!0,de(e)&&(T="keyboard",D("keyboard",e))}function f(e){T="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(h=!0,D("pointer",e))}function N(e){ae(e)&&(h=!0,T="virtual")}function Y(e){e.target===window||e.target===document||(!h&&!k&&(T="virtual",D("virtual",e)),h=!1,k=!1)}function z(){h=!1,k=!0}function M(e){if(typeof window>"u"||w.get(m(e)))return;const n=m(e),t=y(e);let r=n.HTMLElement.prototype.focus;n.HTMLElement.prototype.focus=function(){h=!0,r.apply(this,arguments)},t.addEventListener("keydown",L,!0),t.addEventListener("keyup",L,!0),t.addEventListener("click",N,!0),n.addEventListener("focus",Y,!0),n.addEventListener("blur",z,!1),typeof PointerEvent<"u"?(t.addEventListener("pointerdown",f,!0),t.addEventListener("pointermove",f,!0),t.addEventListener("pointerup",f,!0)):(t.addEventListener("mousedown",f,!0),t.addEventListener("mousemove",f,!0),t.addEventListener("mouseup",f,!0)),n.addEventListener("beforeunload",()=>{q(e)},{once:!0}),w.set(n,{focus:r})}const q=(e,n)=>{const t=m(e),r=y(e);n&&r.removeEventListener("DOMContentLoaded",n),w.has(t)&&(t.HTMLElement.prototype.focus=w.get(t).focus,r.removeEventListener("keydown",L,!0),r.removeEventListener("keyup",L,!0),r.removeEventListener("click",N,!0),t.removeEventListener("focus",Y,!0),t.removeEventListener("blur",z,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",f,!0),r.removeEventListener("pointermove",f,!0),r.removeEventListener("pointerup",f,!0)):(r.removeEventListener("mousedown",f,!0),r.removeEventListener("mousemove",f,!0),r.removeEventListener("mouseup",f,!0)),w.delete(t))};function fe(e){const n=y(e);let t;return n.readyState!=="loading"?M(e):(t=()=>{M(e)},n.addEventListener("DOMContentLoaded",t)),()=>q(e,t)}typeof document<"u"&&fe();function J(){return T!=="pointer"}const ve=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function pe(e,n,t){var r;const o=typeof window<"u"?m(t==null?void 0:t.target).HTMLInputElement:HTMLInputElement,l=typeof window<"u"?m(t==null?void 0:t.target).HTMLTextAreaElement:HTMLTextAreaElement,s=typeof window<"u"?m(t==null?void 0:t.target).HTMLElement:HTMLElement,u=typeof window<"u"?m(t==null?void 0:t.target).KeyboardEvent:KeyboardEvent;return e=e||(t==null?void 0:t.target)instanceof o&&!ve.has(t==null||(r=t.target)===null||r===void 0?void 0:r.type)||(t==null?void 0:t.target)instanceof l||(t==null?void 0:t.target)instanceof s&&(t==null?void 0:t.target.isContentEditable),!(e&&n==="keyboard"&&t instanceof u&&!ce[t.key])}function be(e,n,t){M(),i.useEffect(()=>{let r=(o,l)=>{pe(!!(t!=null&&t.isTextInput),o,l)&&e(J())};return H.add(r),()=>{H.delete(r)}},n)}function $e(e){let{isDisabled:n,onBlurWithin:t,onFocusWithin:r,onFocusWithinChange:o}=e,l=i.useRef({isFocusWithin:!1}),s=i.useCallback(d=>{l.current.isFocusWithin&&!d.currentTarget.contains(d.relatedTarget)&&(l.current.isFocusWithin=!1,t&&t(d),o&&o(!1))},[t,o,l]),u=G(s),c=i.useCallback(d=>{!l.current.isFocusWithin&&document.activeElement===d.target&&(r&&r(d),o&&o(!0),l.current.isFocusWithin=!0,u(d))},[r,o,u]);return n?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:s}}}let F=!1,P=0;function S(){F=!0,setTimeout(()=>{F=!1},50)}function K(e){e.pointerType==="touch"&&S()}function ge(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",K):document.addEventListener("touchend",S),P++,()=>{P--,!(P>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",K):document.removeEventListener("touchend",S))}}function He(e){let{onHoverStart:n,onHoverChange:t,onHoverEnd:r,isDisabled:o}=e,[l,s]=i.useState(!1),u=i.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;i.useEffect(ge,[]);let{hoverProps:c,triggerHoverEnd:d}=i.useMemo(()=>{let v=(a,g)=>{if(u.pointerType=g,o||g==="touch"||u.isHovered||!a.currentTarget.contains(a.target))return;u.isHovered=!0;let $=a.currentTarget;u.target=$,n&&n({type:"hoverstart",target:$,pointerType:g}),t&&t(!0),s(!0)},E=(a,g)=>{if(u.pointerType="",u.target=null,g==="touch"||!u.isHovered)return;u.isHovered=!1;let $=a.currentTarget;r&&r({type:"hoverend",target:$,pointerType:g}),t&&t(!1),s(!1)},b={};return typeof PointerEvent<"u"?(b.onPointerEnter=a=>{F&&a.pointerType==="mouse"||v(a,a.pointerType)},b.onPointerLeave=a=>{!o&&a.currentTarget.contains(a.target)&&E(a,a.pointerType)}):(b.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},b.onMouseEnter=a=>{!u.ignoreEmulatedMouseEvents&&!F&&v(a,"mouse"),u.ignoreEmulatedMouseEvents=!1},b.onMouseLeave=a=>{!o&&a.currentTarget.contains(a.target)&&E(a,"mouse")}),{hoverProps:b,triggerHoverEnd:E}},[n,t,r,o,u]);return i.useEffect(()=>{o&&d({currentTarget:u.target},u.pointerType)},[o]),{hoverProps:c,isHovered:l}}function ke(e={}){let{autoFocus:n=!1,isTextInput:t,within:r}=e,o=i.useRef({isFocused:!1,isFocusVisible:n||J()}),[l,s]=i.useState(!1),[u,c]=i.useState(()=>o.current.isFocused&&o.current.isFocusVisible),d=i.useCallback(()=>c(o.current.isFocused&&o.current.isFocusVisible),[]),v=i.useCallback(a=>{o.current.isFocused=a,s(a),d()},[d]);be(a=>{o.current.isFocusVisible=a,d()},[],{isTextInput:t});let{focusProps:E}=le({isDisabled:r,onFocusChange:v}),{focusWithinProps:b}=$e({isDisabled:!r,onFocusWithinChange:v});return{isFocused:l,isFocusVisible:u,focusProps:r?b:E}}let Ee=i.createContext(void 0);function Q(){return i.useContext(Ee)}let me=i.createContext(void 0);function he(){return i.useContext(me)}let I=i.createContext(null);I.displayName="DescriptionContext";function X(){let e=i.useContext(I);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,X),n}return e}function Me(){var e,n;return(n=(e=i.useContext(I))==null?void 0:e.value)!=null?n:void 0}let we="p";function ye(e,n){let t=i.useId(),r=Q(),{id:o=`headlessui-description-${t}`,...l}=e,s=X(),u=V(n);j(()=>s.register(o),[o,s.register]);let c=r||!1,d=i.useMemo(()=>({...s.slot,disabled:c}),[s.slot,c]),v={ref:u,...s.props,id:o};return _()({ourProps:v,theirProps:l,slot:d,defaultTag:we,name:s.name||"Description"})}let Te=O(ye);Object.assign(Te,{});let W=i.createContext(null);W.displayName="LabelContext";function Z(){let e=i.useContext(W);if(e===null){let n=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,Z),n}return e}function Se(e){var n,t,r;let o=(t=(n=i.useContext(W))==null?void 0:n.value)!=null?t:void 0;return((r=void 0)!=null?r:0)>0?[o,...e].filter(Boolean).join(" "):o}let Le="label";function Fe(e,n){var t;let r=i.useId(),o=Z(),l=he(),s=Q(),{id:u=`headlessui-label-${r}`,htmlFor:c=l??((t=o.props)==null?void 0:t.htmlFor),passive:d=!1,...v}=e,E=V(n);j(()=>o.register(u),[u,o.register]);let b=te(C=>{let x=C.currentTarget;if(x instanceof HTMLLabelElement&&C.preventDefault(),o.props&&"onClick"in o.props&&typeof o.props.onClick=="function"&&o.props.onClick(C),x instanceof HTMLLabelElement){let p=document.getElementById(x.htmlFor);if(p){let B=p.getAttribute("disabled");if(B==="true"||B==="")return;let A=p.getAttribute("aria-disabled");if(A==="true"||A==="")return;(p instanceof HTMLInputElement&&(p.type==="radio"||p.type==="checkbox")||p.role==="radio"||p.role==="checkbox"||p.role==="switch")&&p.click(),p.focus({preventScroll:!0})}}}),a=s||!1,g=i.useMemo(()=>({...o.slot,disabled:a}),[o.slot,a]),$={ref:E,...o.props,id:u,htmlFor:c,onClick:b};return d&&("onClick"in $&&(delete $.htmlFor,delete $.onClick),"onClick"in v&&delete v.onClick),_()({ourProps:$,theirProps:v,slot:g,defaultTag:c?Le:"div",name:o.name||"Label"})}let Ce=O(Fe);Object.assign(Ce,{});export{ke as $,Se as I,Me as U,Q as a,He as b,he as u};
